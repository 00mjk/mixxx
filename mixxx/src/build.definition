
# Project file definition ---------------------------------------------
PROJECT_FILE = mixxx.pro
PROJECT_SETTINGS = enable_summary
contains( CONFIG, debug ) {
	DEFINES += QT_NO_CHECK
}
#----------------------------------------------------------------------

# Configure Help facilities -------------------------------------------
CONFIGURE_SCRIPT_FEATURES = alsa lua python djconsole
CONFIGURE_SCRIPT_PACKAGE_LIST =  libmad id3tag vorbisfile vorbis oggvorbis libsndfile djconsole
#----------------------------------------------------------------------


# Qt Version definition -----------------------------------------------
QT_MINIMUM_REQUIRED_VERSION = 030100
QT_MINIMUM_REQUIRED_VERSION_STR = 3.1.0
#----------------------------------------------------------------------



#   QT thread ---------------------------------------------------------
OBJECT = lib/libqt-mt*
TYPE = other
DESCRIPTION = Qt library -mt
TIP_MESSAGE = "Your QT system has been build without '-thread' option!"
LINK_LIBS =
ADD_CONFIG =
OPTIONS =     exit_on_failure
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------



#   GLIB  -------------------------------------------------------------
OBJECT = libglib.a
TYPE = lib
DESCRIPTION = GNU library (Glib)
LINK_LIBS = -lglib
OPTIONS =    skip_link
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   PKG-CONFIG --------------------------------------------------------
OBJECT = pkg-config
TYPE = bin
DESCRIPTION =
TIP_MESSAGE = "No pkg-config found!"
OPTIONS =     exit_on_failure
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   MAD ---------------------------------------------------------------
OBJECT = libmad.a
TYPE = lib
PACKAGE = libmad
DESCRIPTION = Mad audio decoder
TIP_MESSAGE = "The Mad decoder is needed for mp3 playback!"
LINK_LIBS = -lmad
OPTIONS =   exit_on_failure    marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------



#   ID3TAG ------------------------------------------------------------
OBJECT = libid3tag.a
TYPE = lib
PACKAGE = id3tag
DESCRIPTION = Id3Tag
TIP_MESSAGE = "Id3tag library needed!"
LINK_LIBS = -lid3tag
OPTIONS =   exit_on_failure    marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------

#   AUDIOFILE ---------------------------------------------------------
#OBJECT = libaudiofile.a
#TYPE = lib
#DESCRIPTION = Audiofile
#TIP_MESSAGE = "AudioFile is needed for the Mixxx playback engine!"
#LINK_LIBS = -laudiofile
#ADD_DEFINES = __AUDIOFILE__
#ADD_SOURCES = soundsourceaudiofile.cpp
#ADD_HEADERS = soundsourceaudiofile.h
#OPTIONS =    exit_on_failure      marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
#include( check.qbas )
#----------------------------------------------------------------------




#   OGG/VORBIS HEADERS ------------------------------------------------
OBJECT = vorbis/codec.h
TYPE = header
DESCRIPTION = Vorbis headers
TIP_MESSAGE = "Can't compile without Vorbis headers!"
LINK_LIBS =
OPTIONS =  exit_on_failure
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------



#   VORBISFILE --------------------------------------------------------
OBJECT = libvorbisfile.a
TYPE = lib
PACKAGE = vorbisfile
DESCRIPTION = Vorbisfile library
TIP_MESSAGE = Vorbisfile library is needed for ogg playback!"
LINK_LIBS = -lvorbisfile
ADD_DEFINES =
OPTIONS =   exit_on_failure   marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------


#   OGG/VORBIS --------------------------------------------------------
OBJECT = libvorbis.a
TYPE = lib
PACKAGE = vorbis
DESCRIPTION = Vorbis library
TIP_MESSAGE = "Vorbis library is needed for ogg playback!"
LINK_LIBS = -lvorbis
ADD_DEFINES = 
OPTIONS =   exit_on_failure   marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   OGG   -------------------------------------------------------------
OBJECT = libogg.a
TYPE = lib
PACKAGE = oggvorbis
DESCRIPTION = Ogg Vorbis library
TIP_MESSAGE = "Ogg library is needed for ogg playback!"
LINK_LIBS = -logg
ADD_DEFINES = 
OPTIONS =   exit_on_failure   marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   SNDFILE -----------------------------------------------------------
OBJECT = libsndfile.a
TYPE = lib
PACKAGE = libsndfile
DESCRIPTION = Sndfile library
TIP_MESSAGE = "libsndfile is needed for the Mixxx playback engine!"
LINK_LIBS = -lsndfile
ADD_DEFINES = __SNDFILE__
ADD_SOURCES = soundsourcesndfile.cpp
ADD_HEADERS = soundsourcesndfile.h
OPTIONS =   exit_on_failure      marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------


# SOUNDTOUCH ----------------------------------------------------------
#OBJECT = libSoundTouch.a
#TYPE = lib
#PACKAGE = libSoundTouch
#DESCRIPTION = SoundTouch library
#TIP_MESSAGE = "libSoundTouch is needed for the Mixxx playback engine!"
#LINK_LIBS = -lSoundTouch
#OPTIONS =   exit_on_failure      marked_static
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
#include( check.qbas )
#----------------------------------------------------------------------


#   ALSA HEADERS ------------------------------------------------------
#OBJECT = alsa/asoundlib.h
#TYPE = header
#DESCRIPTION = Alsa Asoundlib
#TIP_MESSAGE =
#LINK_LIBS =
#OPTIONS =
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   ALSA LIBRARY ------------------------------------------------------
# Deprecated thanks to PortAudio-v19. :) - ~asantoni Feb 25, 2007

#OBJECT = libasound.a
#TYPE = lib
#DESCRIPTION = Alsa library
#FEATURE = alsa
#TIP_MESSAGE =
#ADD_DEFINES = __ALSA__
#ADD_SOURCES = playeralsa.cpp
#ADD_HEADERS = playeralsa.h
#LINK_LIBS = -lasound 
#OPTIONS =  disable_feature
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------



#   LIBDJCONSOLE HEADERS ----------------------------------------------
OBJECT = libdjconsole/djconsole.h
TYPE = header
DESCRIPTION = libdjconsole headers
TIP_MESSAGE = "libdjconsole headers needed to compile with Hercules DJConsole Mk1/Mk2/MP3 support!"
LINK_LIBS = 
OPTIONS =
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------


#   LIBDJCONSOLE ------------------------------------------------------
OBJECT = pkg-config --exists 'libdjconsole >= 0.1.0'
TYPE = command
DESCRIPTION = libdjconsole >= 0.1.0
FEATURE = djconsole
PACKAGE = djconsole
TIP_MESSAGE = "libdjconsole not found!"
LINK_LIBS = -I/usr/include/libdjconsole  -ldjconsole
# LINK_LIBS = `pkg-config --silence-errors --cflags --libs libdjconsole` # looks like a bug in the QBASystem only parses last `` command properly :(
# ADD_SOURCES =
# ADD_HEADERS =
ADD_DEFINES = __LIBDJCONSOLE__
OPTIONS =     disable_feature
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------

#   PortAudio-v19
OBJECT = pkg-config --exists 'portaudio-2.0 >= 19'
LINK_LIBS = `pkg-config --cflags portaudio-2.0`
PACKAGE = portaudio
TIP_MESSAGE = "PortAudio-v19 not found!"
OPTIONS = exit_on_failure
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------

#   JACK HEADERS ------------------------------------------------------
#OBJECT = jack/jack.h
#TYPE = header
#DESCRIPTION = Jack headers
#TIP_MESSAGE = "Jack headers needed to compile with Jack support!"
#LINK_LIBS =
#OPTIONS =
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------




#   JACK --------------------------------------------------------------
# Changed to require JACK libraries, for PortAudio-v19... ~asantoni Feb 25, 2007

OBJECT = pkg-config --exists 'jack >= 0.61.0'
TYPE = command
DESCRIPTION = Jack >= 0.61.0
#FEATURE = jack
#PACKAGE = jack
TIP_MESSAGE = "Jack not found!"
#LINK_LIBS = `pkg-config --silence-errors --cflags --libs jack`
#ADD_DEFINES = __JACK__
#ADD_SOURCES = playerjack.cpp
#ADD_HEADERS = playerjack.h
OPTIONS = exit_on_failure
#OPTIONS =     disable_feature
#----------------------------------------------------------------------
# Check routines         (DON'T TOUCH!)
include( check.qbas )
#----------------------------------------------------------------------


#   SCRIPTING ENGINE --------
OBJECT=tolua.h
TYPE=header
OPTIONS=disable_feature
DESCRIPTION=Lua Support
FEATURE=lua

include(check.qbas)
# --- Yeah yeah...
OBJECT=python
TYPE=bin
OPTIONS=disable_feature
DESCRIPTION=Python Support
FEATURE=python
#----
include( check.qbas )
#----
